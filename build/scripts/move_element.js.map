{"version":3,"file":"scripts/move_element.js","sources":["webpack:///./javascript-animation/move-element/index.ts","webpack:///./lib/index.ts","webpack:///./lib/moveElement.ts","webpack:///./lib/getNextElement.ts","webpack:///./lib/insertAfter.ts","webpack:///./lib/addLoadEvent.ts"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar lib_1 = require(\"../../lib\");\r\nfunction positionMessage() {\r\n    if (!document.getElementById) {\r\n        return;\r\n    }\r\n    var elem = document.getElementById('message');\r\n    var elem2 = document.getElementById('message2');\r\n    if (elem) {\r\n        elem.style.position = 'absolute';\r\n        elem.style.left = '50px';\r\n        elem.style.top = '100px';\r\n        new lib_1.MoveElement('message', 200, 200, 10).move();\r\n    }\r\n    if (elem2) {\r\n        elem2.style.position = 'absolute';\r\n        elem2.style.left = '50px';\r\n        elem2.style.top = '100px';\r\n        new lib_1.MoveElement('message2', 200, 50, 10).move();\r\n    }\r\n}\r\nlib_1.addLoadEvent(positionMessage);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./javascript-animation/move-element/index.ts\n// module id = +LAf\n// module chunks = 7","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar addLoadEvent_1 = require(\"./addLoadEvent\");\r\nexports.addLoadEvent = addLoadEvent_1.default;\r\nvar getNextElement_1 = require(\"./getNextElement\");\r\nexports.getNextElement = getNextElement_1.default;\r\nvar insertAfter_1 = require(\"./insertAfter\");\r\nexports.insertAfter = insertAfter_1.default;\r\nvar moveElement_1 = require(\"./moveElement\");\r\nexports.MoveElement = moveElement_1.default;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/index.ts\n// module id = UKuM\n// module chunks = 0 1 2 3 4 5 6 7 8","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MoveElement = /** @class */ (function () {\r\n    function MoveElement(eleId, finalX, finalY, interval) {\r\n        this.movementTimeoutId = -9999;\r\n        this.eleId = eleId;\r\n        this.finalX = finalX;\r\n        this.finalY = finalY;\r\n        this.interval = interval;\r\n    }\r\n    MoveElement.prototype.clearMove = function () {\r\n        clearTimeout(this.movementTimeoutId);\r\n    };\r\n    MoveElement.prototype.move = function () {\r\n        var _this = this;\r\n        if (!document.getElementById) {\r\n            return;\r\n        }\r\n        var elem = document.getElementById(this.eleId);\r\n        if (!elem) {\r\n            return;\r\n        }\r\n        if (!elem.style.left) {\r\n            elem.style.left = '0px';\r\n        }\r\n        if (!elem.style.top) {\r\n            elem.style.top = '0px';\r\n        }\r\n        var xpos = parseInt(elem.style.left);\r\n        var ypos = parseInt(elem.style.top);\r\n        var delX = this.finalX - xpos;\r\n        var delY = this.finalY - ypos;\r\n        if (xpos == this.finalX && ypos == this.finalY) {\r\n            return;\r\n        }\r\n        var speed = 15.0;\r\n        // 向左或向右移动但没移动过目标\r\n        if (delX <= 0 && xpos < this.finalX || delX > 0 && xpos > this.finalX) {\r\n            xpos = this.finalX;\r\n        }\r\n        else {\r\n            if (delX < 0) {\r\n                xpos += Math.floor(delX / speed);\r\n            }\r\n            else {\r\n                xpos += Math.ceil(delX / speed);\r\n            }\r\n        }\r\n        if (delY < 0 && ypos < this.finalY || delY > 0 && ypos > this.finalY) {\r\n            ypos = this.finalY;\r\n        }\r\n        else {\r\n            if (delY < 0) {\r\n                ypos += Math.floor(delY / speed);\r\n            }\r\n            else {\r\n                ypos += Math.ceil(delY / speed);\r\n            }\r\n        }\r\n        elem.style.left = xpos + \"px\";\r\n        elem.style.top = ypos + \"px\";\r\n        this.movementTimeoutId = setTimeout(function () { return _this.move(); });\r\n    };\r\n    return MoveElement;\r\n}());\r\nexports.default = MoveElement;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/moveElement.ts\n// module id = UubQ\n// module chunks = 0 1 2 3 4 5 6 7 8","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Get next Element.\r\n * @param node Node\r\n */\r\nfunction getNextElement(node) {\r\n    if (node.nodeType === 1) {\r\n        return node;\r\n    }\r\n    if (node.nextSibling) {\r\n        return getNextElement(node.nextSibling);\r\n    }\r\n    return null;\r\n}\r\nexports.default = getNextElement;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/getNextElement.ts\n// module id = fMmY\n// module chunks = 0 1 2 3 4 5 6 7 8","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * insert a node after a node.\r\n * @param {Node} newNode\r\n * @param {Node} targetNode\r\n */\r\nfunction insertAfter(newNode, targetNode) {\r\n    var parent = targetNode.parentNode;\r\n    if (parent && parent.lastChild == targetNode) {\r\n        parent.appendChild(newNode);\r\n    }\r\n    else {\r\n        parent && parent.insertBefore(newNode, targetNode.nextSibling);\r\n    }\r\n}\r\nexports.default = insertAfter;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/insertAfter.ts\n// module id = hUos\n// module chunks = 0 1 2 3 4 5 6 7 8","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * add window.onload event handler\r\n */\r\nfunction addLoadEvent(fun) {\r\n    // 将 fun 约束为函数类型\r\n    var oldonload = window.onload;\r\n    if (typeof oldonload != 'function') {\r\n        window.onload = fun;\r\n    }\r\n    else {\r\n        window.onload = function () {\r\n            oldonload();\r\n            fun();\r\n        };\r\n    }\r\n}\r\nexports.default = addLoadEvent;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/addLoadEvent.ts\n// module id = rKFs\n// module chunks = 0 1 2 3 4 5 6 7 8"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}